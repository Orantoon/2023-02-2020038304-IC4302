grafana:
  namespaceOverride: monitoring
  operator:
    enabled: true
    scanAllNamespaces: true
    prometheus:
      serviceMonitor:
        enabled: true
  grafana:
    enabled: true 
    dashboardLabelSelectors:
      - matchLabels:
          app: grafana
    persistence:
      enabled: true
      size: 5Gi

prometheus:
  namespaceOverride: monitoring
  prometheus:
    retention: 2d
    persistence:
      enabled: true
      size: 5Gi
  additionalScrapeConfigs:
      - job_name: 'flask-app'
        static_configs:
          - targets: ['apimovies-service:5000']
      - job_name: "Project 0-mongo-metrics"
        scrape_interval: 10s
        metrics_path: /metrics
        scheme : https
        basic_auth:
          username: prom_user_6500c420f49942061dd0c26d
          password: yT8T49BwyJCg9JV0
        http_sd_configs:
          - url: https://cloud.mongodb.com/prometheus/v1.0/groups/6500c420f49942061dd0c26d/discovery
            refresh_interval: 60s
            basic_auth:
              username: prom_user_6500c420f49942061dd0c26d
              password: yT8T49BwyJCg9JV0